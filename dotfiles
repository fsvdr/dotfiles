#!/usr/bin/env bash

source "${0%/*}/utils/confirmation.sh"
source "${0%/*}/git/git.sh"

__help="
Dotfiles ‚Äî A manager
Usage: dotfiles <command>

where <command> is one of:
  help      -   Displays this banner
  configure -   Runs the entire configuration script on the host machine
"

__configure="
Dotfiles configuration

This command will go through a series of steps to configure the host machine's preferences, setup the development environment and install applications.

"

__progress="  ‚è≥ In Progress...      "
__skipped_="  ‚è≠ Skipped             "
__is__done="  ‚úÖ Done                "
__is_error="  ‚ùå Something went wrong"
__clean_pg="                         "

configure() {
  echo "$__configure"

  echo -ne "[1/1] üîÉ Git configuration \n"

  if confirm "Proceed?"; then
    if git-configure; then
      echo $__is__done
    fi
  else
    echo $__skipped_
  fi
}

case "$1" in
  "help" | "-h")    echo "$__help";;
  "configure")      configure;;
  *)                echo "$__help";;
esac
